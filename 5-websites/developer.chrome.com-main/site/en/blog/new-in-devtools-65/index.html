<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2018-01-17" />
  <title>What’s New In DevTools (Chrome 65)</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">What’s New In DevTools (Chrome 65)</h1>
<p class="date">2018-01-17</p>
</header>
<p>New features coming to DevTools in Chrome 65 include:</p>
<ul>
<li><a href="#overrides"><strong>Local Overrides</strong></a></li>
<li><a href="#a11y">New accessibility tools</a></li>
<li><a href="#changes">The <strong>Changes</strong> tab</a></li>
<li><a href="#audits">New SEO and performance audits</a></li>
<li><a href="#recordings">Multiple recordings in the <strong>Performance</strong> panel</a></li>
<li><a href="#stepping">Reliable code stepping with workers and asynchronous code</a></li>
</ul>
<p>Read on, or watch the video version of these release notes, below.</p>
<p>{% YouTube id=“D1pV7ermy6w” %}</p>
<p>{% Aside %}</p>
<p><strong>Note:</strong> Check what version of Chrome you’re running at <code>chrome://version</code>. If you’re running an earlier version, these features won’t exist. If you’re running a later version, these features may have changed. Chrome auto-updates to a new major version about every 6 weeks.</p>
<p>{% endAside %}</p>
<h2 id="local-overrides-overrides">Local Overrides {: #overrides }</h2>
<p><strong>Local Overrides</strong> let you make changes in DevTools, and keep those changes across page loads. Previously, any changes that you made in DevTools would be lost when you reloaded the page. <strong>Local Overrides</strong> work for most file types, with a couple of exceptions. See <a href="#overrides-limitations">Limitations</a>.</p>
<p>{% Img src=“image/BrQidfK9jaQyIHwdw91aVpkPiib2/pPRYEcOzEloITwitsHRd.gif”, alt=“Persisting a CSS change across page loads with Local Overrides.”, width=“800”, height=“469” %}</p>
<p><strong>Figure 1</strong>. Persisting a CSS change across page loads with <strong>Local Overrides</strong></p>
<p>How it works:</p>
<ul>
<li>You specify a directory where DevTools should save changes.</li>
<li>When you make changes in DevTools, DevTools saves a copy of the modified file to your directory.</li>
<li>When you reload the page, DevTools serves the local, modified file, rather than the network resource.</li>
</ul>
<p>To set up <strong>Local Overrides</strong>:</p>
<ol type="1">
<li>Open the <strong>Sources</strong> panel.</li>
<li><p>Open the <strong>Overrides</strong> tab.</p>
<p>{% Img src=“image/admin/KBYIoNu3MLcdTwVrF2of.png”, alt=“The Overrides tab”, width=“800”, height=“588” %}</p>
<p><strong>Figure 2</strong>. The <strong>Overrides</strong> tab</p></li>
<li>Click <strong>Setup Overrides</strong>.</li>
<li>Select which directory you want to save your changes to.</li>
<li>At the top of your viewport, click <strong>Allow</strong> to give DevTools read and write access to the directory.</li>
<li><p>Make your changes.</p></li>
</ol>
<h3 id="limitations-overrides-limitations">Limitations {: #overrides-limitations }</h3>
<ul>
<li>DevTools doesn’t save changes made in the <strong>DOM Tree</strong> of the <strong>Elements</strong> panel. Edit HTML in the <strong>Sources</strong> panel instead.</li>
<li>If you edit CSS in the <strong>Styles</strong> pane, and the source of that CSS is an HTML file, DevTools won’t save the change. Edit the HTML file in the <strong>Sources</strong> panel instead.</li>
</ul>
<h3 id="related-features-overrides-related">Related features {: #overrides-related }</h3>
<ul>
<li><a href="/blog/new-in-devtools-63#workspaces">Workspaces</a>. DevTools automatically maps network resources to a local repository. Whenever you make a change in DevTools, that change gets saved to your local repository, too.</li>
</ul>
<h2 id="the-changes-tab-changes">The Changes tab {: #changes }</h2>
<p>Track changes that you make locally in DevTools via the new <strong>Changes</strong> tab.</p>
<p>{% Img src=“image/admin/Sz85zGJr0pSZK0qmSLRI.png”, alt=“The Changes tab”, width=“800”, height=“651” %}</p>
<p><strong>Figure 3</strong>. The <strong>Changes</strong> tab</p>
<h2 id="new-accessibility-tools-a11y">New accessibility tools {: #a11y }</h2>
<p>Use the new <strong>Accessibility</strong> pane to inspect the accessibility properties of an element, and inspect the contrast ratio of text elements in the <strong>Color Picker</strong> to ensure that they’re accessible to users with low-vision impairments or color-vision deficiencies.</p>
<h3 id="accessibility-pane-a11y-pane">Accessibility pane {: #a11y-pane }</h3>
<p>Use the <strong>Accessibility</strong> pane on the <strong>Elements</strong> panel to investigate the accessibility properties of the currently-selected element.</p>
<p>{% Img src=“image/BrQidfK9jaQyIHwdw91aVpkPiib2/9HZSgKaMWJ2YVNSeJGs4.png”, alt=“The Accessibility pane”, width=“800”, height=“601” %}</p>
<p><strong>Figure 4</strong>. The <strong>Accessibility</strong> pane shows the ARIA attributes and computed properties for the element that’s currently selected in the <strong>DOM Tree</strong> on the <strong>Elements</strong> panel, as well as its position in the accessibility tree</p>
<p>Check out Rob Dodson’s A11ycast on labeling below to see the <strong>Accessibility</strong> pane in action.</p>
<p>{% YouTube id=“8dCUzOiMRy4” %}</p>
<h3 id="contrast-ratio-in-the-color-picker-contrast">Contrast ratio in the Color Picker {: #contrast }</h3>
<p>The <a href="/docs/devtools/css/reference#color-picker">Color Picker</a> now shows you the contrast ratio of text elements. Increasing the contrast ratio of text elements makes your site more accessible to users with low-vision impairments or color-vision deficiencies. See <a href="https://developers.google.com/web/fundamentals/accessibility/accessible-styles#color_and_contrast">Color and contrast</a> to learn more about how contrast ratio affects accessibility.</p>
<p>Improving the color contrast of your text elements makes your site more usable for <em>all</em> users. In other words, if your text is grey with a white background, that’s hard for anyone to read.</p>
<p>{% Img src=“image/admin/YG7Bo8L4mFmHNZHOlQ5k.png”, alt=“Inspecting the contrast ratio of the highlighted H1 element.”, width=“800”, height=“508” %}</p>
<p><strong>Figure 5</strong>. Inspecting the contrast ratio of the highlighted <code>h1</code> element</p>
<p>In <strong>Figure 5</strong>, the two checkmarks next to <strong>4.61</strong> means that this element meets the <a href="https://www.w3.org/WAI/WCAG20/quickref/#qr-visual-audio-contrast7">enhanced recommended contrast ratio (AAA)</a>. If it only had one checkmark, that would mean it met the <a href="https://www.w3.org/WAI/WCAG20/quickref/#qr-visual-audio-contrast-contrast">minimum recommended contrast ratio (AA)</a>.</p>
<p>Click <strong>Show More</strong> {% Img src=“image/admin/XmkOAQRvFegERSyqg7ri.png”, alt=“Show More”, width=“16”, height=“10” %} to expand the <strong>Contrast Ratio</strong> section. The white line in the <strong>Color Spectrum</strong> box represents the boundary between colors that meet the recommended contrast ratio, and those that don’t. For example, since the grey color in <strong>Figure 6</strong> meets recommendations, that means that all of the colors below the white line also meet recommendations.</p>
<p>{% Img src=“image/admin/lUbK35fGHAwETU0JboBp.png”, alt=“The expanded Contrast Ratio section.”, width=“800”, height=“668” %}</p>
<p><strong>Figure 6</strong>. The expanded <strong>Contrast Ratio</strong> section</p>
<h4 id="related-features-contrast-related">Related features {: #contrast-related }</h4>
<p>The <strong>Audits</strong> panel has an automated accessibility audit for ensuring that <em>every</em> text element on a page has a sufficient contrast ratio.</p>
<p>See <a href="https://developers.google.com/web/tools/lighthouse#devtools">Run Lighthouse in Chrome DevTools</a>, or watch the A11ycast below, to learn how to use the <strong>Audits</strong> panel to test accessibility.</p>
<p>{% YouTube id=“b0Q5Zp_yKaU” %}</p>
<h2 id="new-audits-audits">New audits {: #audits }</h2>
<p>Chrome 65 ships with a whole new category of SEO audits, and many new performance audits.</p>
<p>{% Aside %}</p>
<p><strong>Note:</strong> The <strong>Audits</strong> panel is powered by <a href="https://developers.google.com/web/tools/lighthouse">Lighthouse</a>. Chrome 64 runs Lighthouse version 2.5. Chrome 65 runs Lighthouse version 2.8. So this section is simply a summary of the Lighthouse updates from 2.6, 2.7, and 2.8.</p>
<p>{% endAside %}</p>
<h3 id="new-seo-audits-seo">New SEO audits {: #seo }</h3>
<p>Ensuring that your pages pass each of the audits in the new <strong>SEO</strong> category may help improve your search engine rankings.</p>
<p>{% Img src=“image/admin/TUJ4tg2xSAF3xz53mkL6.png”, alt=“The new SEO category of audits.”, width=“800”, height=“926” %}</p>
<p><strong>Figure 7</strong>. The new <strong>SEO</strong> category of audits</p>
<h3 id="new-performance-audits-performance">New performance audits {: #performance }</h3>
<p>Chrome 65 also ships with many new performance audits:</p>
<ul>
<li>JavaScript boot-up time is high</li>
<li>Uses inefficient cache policy on static assets</li>
<li>Avoids page redirects</li>
<li>Document uses plugins</li>
<li>Minify CSS</li>
<li>Minify JavaScript</li>
</ul>
<p><strong>Perf matters!</strong> After Mynet improved their page load speed by 4X, users spent 43% more time on the site, viewed 34% more pages, bounce rates dropped 24%, and revenue increased 25% per article pageview. <a href="https://developers.google.com/web/showcase/2017/mynet">Learn more</a>.</p>
<p><strong>Tip!</strong> If you want to improve the load performance of your pages, but don’t know where to start, try the <strong>Audits</strong> panel. You give it a URL, and it gives you a detailed report on many different ways you can improve that page. <a href="https://developers.google.com/web/tools/lighthouse#devtools">Get started</a>.</p>
<h3 id="other-updates-audits-other">Other updates {: #audits-other }</h3>
<ul>
<li><a href="https://developers.google.com/web/updates/2018/01/lighthouse#a11y">New, manual accessibility audits</a></li>
<li><a href="https://developers.google.com/web/updates/2018/01/lighthouse#webp">Updates to the WebP audit</a> to make it more inclusive of other next-generation image formats</li>
<li><a href="https://developers.google.com/web/updates/2017/12/lighthouse#a11y">A rehaul of the accessibility score</a></li>
<li>If an accessibility audit is not applicable for a page, that audit no longer counts towards the accessibility score</li>
<li>Performance is now the top section in reports</li>
</ul>
<h2 id="reliable-code-stepping-with-workers-and-asynchronous-code-stepping">Reliable code stepping with workers and asynchronous code {: #stepping }</h2>
<p>Chrome 65 brings updates to the <strong>Step Into</strong> {% Img src=“image/admin/M2uaA0NnXNpNicUiKtFg.png”, alt=“Step Into”, width=“18”, height=“26” %} button when stepping into code that passes messages between threads, and asynchronous code. If you want the previous stepping behavior, you can use the new <strong>Step</strong> {% Img src=“image/admin/JhOtwtYfcNqWJ7iHHL29.png”, alt=“Step”, width=“26”, height=“19” %} button, instead.</p>
<h3 id="stepping-into-code-that-passes-messages-between-threads-workers">Stepping into code that passes messages between threads {: #workers }</h3>
<p>When you step into code that passes messages between threads, DevTools now shows you what happens in each thread.</p>
<p>For example, the app in <strong>Figure 8</strong> passes a message between the main thread and the worker thread. After stepping into the <code>postMessage()</code> call on the main thread, DevTools pauses in the <code>onmessage</code> handler in the worker thread. The <code>onmessage</code> handler itself posts a message back to the main thread. Stepping into <em>that</em> call pauses DevTools back in the main thread.</p>
<p>{% Img src=“image/BrQidfK9jaQyIHwdw91aVpkPiib2/yWJphKwL2YJvA9T8C1uo.gif”, alt=“Stepping into message-passing code in Chrome 65.”, width=“800”, height=“516” %}</p>
<p><strong>Figure 8</strong>. Stepping into message-passing code in Chrome 65</p>
<p>When you stepped into code like this in earlier versions of Chrome, Chrome only showed you the main-thread-side of the code, as you can see in <strong>Figure 9</strong>.</p>
<p>{% Img src=“image/BrQidfK9jaQyIHwdw91aVpkPiib2/QQjOfRK20H2aX5zMj8So.gif”, alt=“Stepping into message-passing code in Chrome 63.”, width=“800”, height=“505” %}</p>
<p><strong>Figure 9</strong>. Stepping into message-passing code in Chrome 63</p>
<h3 id="stepping-into-asynchronous-code-async">Stepping into asynchronous code {: #async }</h3>
<p>When stepping into asynchronous code, DevTools now assumes that you want to pause in the the asynchronous code that eventually runs.</p>
<p>For example, in <strong>Figure 10</strong> after stepping into <code>setTimeout()</code>, DevTools runs all of the code leading up to that point behind the scenes, and then pauses in the function that’s passed to <code>setTimeout()</code>.</p>
<p>{% Img src=“image/BrQidfK9jaQyIHwdw91aVpkPiib2/ScY08USz9qwwCH01YJpE.gif”, alt=“Stepping into asynchronous code in Chrome 65.”, width=“800”, height=“541” %}</p>
<p><strong>Figure 10</strong>. Stepping into asynchronous code in Chrome 65</p>
<p>When you stepped into code like this in Chrome 63, DevTools paused in code as it chronologically ran, as you can see in <strong>Figure 11</strong>.</p>
<p>{% Img src=“image/BrQidfK9jaQyIHwdw91aVpkPiib2/ScY08USz9qwwCH01YJpE.gif”, alt=“Stepping into asynchronous code in Chrome 63.”, width=“800”, height=“541” %}</p>
<p><strong>Figure 11</strong>. Stepping into asynchronous code in Chrome 63</p>
<h2 id="multiple-recordings-in-the-performance-panel-recordings">Multiple recordings in the Performance panel {: #recordings }</h2>
<p>The <strong>Performance</strong> panel now lets you temporarily save up to 5 recordings. The recordings are deleted when you close your DevTools window. See <a href="/docs/devtools/evaluate-performance">Get Started with Analyzing Runtime Performance</a> to get comfortable with the <strong>Performance</strong> panel.</p>
<p>{% Img src=“image/admin/FJl8iAdG706qJV74fjob.png”, alt=“Selecting between multiple recordings in the Performance panel.”, width=“800”, height=“712” %}</p>
<p><strong>Figure 12</strong>. Selecting between multiple recordings in the <strong>Performance</strong> panel</p>
<h2 id="bonus-automate-devtools-actions-with-puppeteer-1.0-puppeteer">Bonus: Automate DevTools actions with Puppeteer 1.0 {: #puppeteer }</h2>
<p>{% Aside %}</p>
<p><strong>Note:</strong> This section isn’t related to Chrome 65.</p>
<p>{% endAside %}</p>
<p>Version 1.0 of Puppeteer, a browser automation tool maintained by the Chrome DevTools team, is now out. You can use Puppeteer to automate many tasks that were previously only available via DevTools, such as capturing screenshots:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> puppeteer <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;puppeteer&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2">(<span class="kw">async</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="kw">const</span> browser <span class="op">=</span> <span class="cf">await</span> <span class="va">puppeteer</span>.<span class="at">launch</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="kw">const</span> page <span class="op">=</span> <span class="cf">await</span> <span class="va">browser</span>.<span class="at">newPage</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="cf">await</span> <span class="va">page</span>.<span class="at">goto</span>(<span class="st">&#39;https://example.com&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="cf">await</span> <span class="va">page</span>.<span class="at">screenshot</span>(<span class="op">{</span><span class="dt">path</span><span class="op">:</span> <span class="st">&#39;example.png&#39;</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="cf">await</span> <span class="va">browser</span>.<span class="at">close</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="op">}</span>)()<span class="op">;</span></a></code></pre></div>
<p>It also has APIs for lots of generally useful automation tasks, such as generating PDFs:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> puppeteer <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;puppeteer&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2">(<span class="kw">async</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">const</span> browser <span class="op">=</span> <span class="cf">await</span> <span class="va">puppeteer</span>.<span class="at">launch</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="kw">const</span> page <span class="op">=</span> <span class="cf">await</span> <span class="va">browser</span>.<span class="at">newPage</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="cf">await</span> <span class="va">page</span>.<span class="at">goto</span>(<span class="st">&#39;https://news.ycombinator.com&#39;</span><span class="op">,</span> <span class="op">{</span><span class="dt">waitUntil</span><span class="op">:</span> <span class="st">&#39;networkidle2&#39;</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="cf">await</span> <span class="va">page</span>.<span class="at">pdf</span>(<span class="op">{</span><span class="dt">path</span><span class="op">:</span> <span class="st">&#39;hn.pdf&#39;</span><span class="op">,</span> <span class="dt">format</span><span class="op">:</span> <span class="st">&#39;A4&#39;</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="cf">await</span> <span class="va">browser</span>.<span class="at">close</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="op">}</span>)()<span class="op">;</span></a></code></pre></div>
<p>See <a href="https://developers.google.com/web/tools/puppeteer/get-started">Quick Start</a> to learn more.</p>
<p>You can also use Puppeteer to expose DevTools features while browsing without ever explicitly opening DevTools. See <a href="/blog/new-in-devtools-65-without-devtools">Using DevTools Features Without Opening DevTools</a> for an example.</p>
</body>
</html>
