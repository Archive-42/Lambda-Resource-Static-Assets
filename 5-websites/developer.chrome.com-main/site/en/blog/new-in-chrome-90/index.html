<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2021-04-13" />
  <title>New in Chrome 90</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">New in Chrome 90</h1>
<p class="date">2021-04-13</p>
</header>
<style>
  .nic90-box {
    font-size: 64px;
    font-family: arial;
    font-weight: bold;
    border: 4px solid black;
    padding: 0 4px;
    width: 225px;
    overflow-wrap: normal;
    line-height: normal
  }
  .nic90-clip {
    overflow: clip;
  }
</style>
<p>{% Aside %} Chrome 90 is starting to roll out to stable now, and in honor of Chrome 90, the video is ’90s style. Enjoy! {% endAside %}</p>
<p>{% YouTube id=‘h3MONldIoNM’ %}</p>
<p>Here’s what you need to know:</p>
<ul>
<li>There’s a new value for the CSS <a href="#overflow-clip"><code>overflow</code></a> property.</li>
<li>The Feature Policy API has been renamed to <a href="#permission-policy">Permissions Policy</a>.</li>
<li>And there’s a new way to implement and use <a href="#declarative">Shadow DOM</a> directly in HTML.</li>
<li>I owned several jackets almost exactly like this in the 1990s.</li>
<li>And, there’s <a href="#more">plenty more</a>.</li>
</ul>
<p>I’m <a href="https://twitter.com/petele">Pete LePage</a>, and I’ve got the <em>411</em> for developers in Chrome 90, <em>doin’ it 1990’s style!</em></p>
<h2 id="prevent-overflow-with-overflow-clip-overflow-clip">Prevent overflow with <code>overflow: clip</code> {: #overflow-clip }</h2>
<div class="float-right nic90-box">
<p>CSS IS AWESOME</p>
</div>
<p>CSS is all that and a bag of chips! But, I think every web developer has seen and experienced something that overflows awkwardly at some point. There’s a great post on CSS Tricks about <a href="https://css-tricks.com/css-is-awesome/">different ways to handle the overflow</a>, for example, using <code>overflow: hidden</code>, or <code>auto</code>.</p>
<p>In the <a href="https://www.w3.org/TR/css-overflow-3/">CSS Overflow Spec</a>, there’s a new <code>clip</code> property that works similarly to <code>hidden</code>.</p>
<div style="clear:both;">

</div>
<p>{% Columns %} {% Column %}</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">.overflow-clip</span> {</a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="kw">overflow</span>: <span class="dv">clip</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3">}</a></code></pre></div>
<p>{% endColumn %} {% Column %}</p>
<p>{% Img src=“image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/cpWAwVTCytqgKryptFQh.png”, alt=“Square box with text CSS is awesome, where awesome overflows out of the box”, width=“458”, height=“472” %}</p>
<p>{% endColumn %} {% endColumns %}</p>
<p>Using <code>overflow: clip</code> makes it possible for you to prevent any type of scrolling for the box, including programmatic scrolling. That means the box is not considered a scroll container; it does not start a new formatting context, which gives it better performance than <code>overflow: hidden</code>. And if you need it, you can apply clipping to a single axis via <code>overflow-x</code> and <code>overflow-y</code>.</p>
<p>Oh, and FYI - there’s also <code>overflow-clip-margin</code>, which allows you to expand the clip border. This is useful for cases where there is ink overflow that should be visible.</p>
<p>{% Columns %} {% Column %}</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">.overflow-clip</span> {</a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="kw">overflow</span>: <span class="dv">clip</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3">  overflow-clip-margin: <span class="dv">25</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4">}</a></code></pre></div>
<p>{% endColumn %} {% Column %}</p>
<p>{% Img src=“image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/GSyCxP6F48a9tJ0U5HAh.png”, alt=“Square box with text CSS is awesome, where awesome overflows out of the box”, width=“506”, height=“488” %}</p>
<p>{% endColumn %} {% endColumns %}</p>
<p>See <code>overflow: clip</code> in action at <a href="https://petele-css-is-awesome.glitch.me/" class="uri">https://petele-css-is-awesome.glitch.me/</a></p>
<h2 id="feature-policy-is-now-permissions-policy-permission-policy">Feature Policy is now Permissions Policy {: #permission-policy}</h2>
<p>Back in Chrome 74, we introduced the <a href="https://developers.google.com/web/updates/2018/06/feature-policy">Feature Policy API</a>, which allows you to selectively enable, disable, and modify the behavior of certain APIs and web features in the browser. These policies are a contract between you and the browser. They inform the browser about what your intent is.</p>
<p>If your code, or any of the third party libraries you use violate your preselected rules, the browser overrides the behavior with better UX or just says, “talk to the hand,” blocking the API altogether.</p>
<p>Starting in Chrome 90, the Feature Policy API will be renamed Permissions Policy, and the HTTP header has been renamed along with it. At the same time, the community has settled on a new syntax, based on Structured Field Values for HTTP.</p>
<p>{% Columns %} {% Column %}</p>
<h3 id="chrome-90-and-later">Chrome 90 and later</h3>
<pre class="http"><code>Permissions-Policy: geolocation=()</code></pre>
<p>{% endColumn %} {% Column %}</p>
<h3 id="chrome-89-and-earlier">Chrome 89 and earlier</h3>
<pre class="http"><code>Feature-Policy: geolocation &#39;none&#39;</code></pre>
<p>{% endColumn %} {% endColumns %}</p>
<p>If you’re interested in how to use this on your site, check out <a href="https://developers.google.com/web/updates/2018/06/feature-policy">Introduction to Feature Policy</a>.</p>
<h2 id="declarative-shadow-dom-declarative">Declarative Shadow DOM {: #declarative }</h2>
<p><a href="https://developers.google.com/web/fundamentals/web-components/shadowdom">Shadow DOM</a>, part of the Web Components standard, provides a way to scope CSS styles to a specific DOM subtree and isolate that subtree from the rest of the document. Until now, the only way to use Shadow DOM was to construct a shadow root using JavaScript.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> host <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;host&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">const</span> opts <span class="op">=</span> <span class="op">{</span><span class="dt">mode</span><span class="op">:</span> <span class="st">&#39;open&#39;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">const</span> shadowRoot <span class="op">=</span> <span class="va">host</span>.<span class="at">attachShadow</span>(opts)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="kw">const</span> html <span class="op">=</span> <span class="st">&#39;&lt;h1&gt;Hello Shadow DOM&lt;/h1&gt;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="va">shadowRoot</span>.<span class="at">innerHTML</span> <span class="op">=</span> html<span class="op">;</span></a></code></pre></div>
<p>This works fine for client-side rendering, but not so well in server side rendering where there is no built in way to express Shadow Roots in the server generated HTML. But, starting in Chrome 90, with the Declarative Shadow DOM, you’re good to go. You can create shadow roots using only HTML.</p>
<p>A Declarative Shadow Root is a <code>&lt;template&gt;</code> element with a <code>shadowroot</code> attribute. It’s detected by the HTML parser and immediately applied as the shadow root of its parent element.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">&lt;host-element&gt;</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="kw">&lt;template</span><span class="ot"> shadowroot=</span><span class="st">&quot;open&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="kw">&lt;slot&gt;&lt;/slot&gt;</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="kw">&lt;/template&gt;</span></a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="kw">&lt;h2&gt;</span>Light content<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="kw">&lt;/host-element&gt;</span></a></code></pre></div>
<p>Loading the pure HTML markup results in this DOM tree:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">&lt;host-element&gt;</span></a>
<a class="sourceLine" id="cb7-2" title="2">  #shadow-root (open)</a>
<a class="sourceLine" id="cb7-3" title="3">  <span class="kw">&lt;slot&gt;</span></a>
<a class="sourceLine" id="cb7-4" title="4">    ↳</a>
<a class="sourceLine" id="cb7-5" title="5">    <span class="kw">&lt;h2&gt;</span>Light content<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb7-6" title="6">  <span class="kw">&lt;/slot&gt;</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw">&lt;/host-element&gt;</span></a></code></pre></div>
<p>This gives us the benefits of Shadow DOM’s encapsulation and slot projection in static HTML. No JavaScript is needed to produce the entire tree, including the Shadow Root.</p>
<p>Check out <a href="https://web.dev/declarative-shadow-dom/">Declarative Shadow DOM</a> on web.dev for more details.</p>
<h2 id="and-more-more">And more {: #more }</h2>
<p>And of course there’s plenty more.</p>
<p>To help improve privacy, and even loading speeds for users visiting sites that support HTTPS, Chrome’s <a href="https://blog.chromium.org/2021/03/a-safer-default-for-navigation-https.html">address bar will use <code>https://</code> by default</a>. And if you haven’t set up an automatic redirect from HTTP to HTTPS, now would be a great time to do that.</p>
<p>And an <a href="https://www.chromestatus.com/feature/6206321818861568">AV1 encoder</a> is shipping in Chrome desktop that is specifically optimized for video conferencing with WebRTC integration.</p>
<h2 id="further-reading">Further reading</h2>
<p>This covers only some of the key highlights. Check the links below for additional changes in Chrome 90.</p>
<ul>
<li><a href="/blog/new-in-devtools-90/">What’s new in Chrome DevTools (90)</a></li>
<li><a href="/blog/deps-rems-90/">Chrome 90 deprecations &amp; removals</a></li>
<li><a href="https://www.chromestatus.com/features#milestone%3D90">ChromeStatus.com updates for Chrome 90</a></li>
<li><a href="https://v8.dev/blog/v8-release-90">What’s new in JavaScript in Chrome 90</a></li>
<li><a href="https://chromium.googlesource.com/chromium/src/+log/89.0.4389.75..90.0.4430.71">Chromium source repository change list</a></li>
</ul>
<h2 id="subscribe">Subscribe</h2>
<p>Want to stay up to date with our videos, then <a href="https://goo.gl/6FP1a5">subscribe</a> to our <a href="https://www.youtube.com/user/ChromeDevelopers/">Chrome Developers YouTube channel</a>, and you’ll get an email notification whenever we launch a new video.</p>
<p>I’m Pete LePage, and as soon as Chrome 91 is released, I’ll be right here to tell you what’s new in Chrome!</p>
<h2 id="a-special-shout-out">A special shout out</h2>
<p>I had a lot of fun shooting this 1990s themed episode of New in Chrome. Huge thanks to Sean Meehan for the idea and for bringing together the amazing folks who helped open the time warp to 1990.</p>
<p>{% Columns %} {% Column %}</p>
<p>GDS Design</p>
<ul>
<li>Fola Akinola</li>
<li>Derek Bass</li>
<li>Christopher Bodel</li>
<li>Nick Krusick</li>
<li>Chris Walker</li>
</ul>
<p>{% endColumn %} {% Column %}</p>
<p>Sound Design &amp; Additional Music</p>
<ul>
<li>Bryan Gordon</li>
</ul>
<p>{% endColumn %} {% endColumns %}</p>
<p>And of course, Loren Borja, Lee Carruthers, and Lukas Holcek who work on all of my New in Chrome videos and make me look way better than I actually am. THANK YOU!</p>
</body>
</html>
