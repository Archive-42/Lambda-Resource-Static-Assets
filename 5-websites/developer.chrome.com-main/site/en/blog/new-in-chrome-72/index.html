<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2019-01-29" />
  <title>New in Chrome 72</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">New in Chrome 72</h1>
<p class="date">2019-01-29</p>
</header>
<p>{% YouTube id=‘coh1k7TY1P0’ %}</p>
<p>In Chrome 72, we’ve added support for:</p>
<ul>
<li>Creating <a href="#public-class-fields">public class fields</a> in JavaScript is now much cleaner.</li>
<li>You can see if a page has been activated with the new <a href="#user-activation">User Activation API</a></li>
<li>Localizing lists becomes way easier with the <a href="#intl-format"><code>Intl.format()</code></a> API.</li>
</ul>
<p>And there’s <a href="#more">plenty more</a>!</p>
<p>I’m <a href="https://twitter.com/petele">Pete LePage</a>. Let’s dive in and see what’s new for developers in Chrome 72!</p>
<h2 id="change-log">Change log</h2>
<p>This covers only some of the key highlights, check the links below for additional changes in Chrome 72.</p>
<ul>
<li><a href="https://chromium.googlesource.com/chromium/src/+log/71.0.3578.82..72.0.3626.82">Chromium source repository change list</a></li>
<li><a href="https://www.chromestatus.com/features#milestone%3D72">ChromeStatus.com updates for Chrome 72</a></li>
<li><a href="https://developers.google.com/web/updates/2018/12/chrome-72-deps-rems">Chrome 72 deprecations &amp; removals</a></li>
</ul>
<h2 id="public-class-fields-public-class-fields">Public class fields {: #public-class-fields }</h2>
<p>My first language was Java, and learning JavaScript threw me for a bit of a loop. How did I create a class? Or inheritance? What about public and private properties and methods? Many of the recent updates to JavaScript that make object oriented programming much easier.</p>
<p>I can now create <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">classes</a>, that work like I expect them to, complete with constructors, getters and setters, static methods and public properties.</p>
<p>Thanks to V8 7.2, which ships with Chrome 72, you can now declare public class fields directly in the class definition, eliminating the need to do it in the constructor.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">class</span> Counter <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  _value <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3">  get <span class="at">value</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">_value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="at">increment</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="kw">this</span>.<span class="at">_value</span><span class="op">++;</span></a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="kw">const</span> counter <span class="op">=</span> <span class="kw">new</span> <span class="at">Counter</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="va">console</span>.<span class="at">log</span>(<span class="va">counter</span>.<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">// → 0</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="va">counter</span>.<span class="at">increment</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="va">console</span>.<span class="at">log</span>(<span class="va">counter</span>.<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">// → 1</span></a></code></pre></div>
<p>Support for private class fields is in the works!</p>
<p>More details are in Mathias’s article on <a href="https://developers.google.com/web/updates/2018/12/class-fields">class fields</a> for more details.</p>
<h2 id="user-activation-api-user-activation">User Activation API {: #user-activation }</h2>
<p>Remember when sites could automatically play sound as soon as the page loaded? You scramble to hit the mute key, or figure out which tab it was, and close it. That’s why some APIs require activation via a user gesture before they’ll work. Unfortunately, browsers handle activation in different ways.</p>
<figure class="float-right">
{% Img src=“image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/nxkCXLWEz4O6H8mXdanT.png”, alt="“, height=”603“, width=”800" %}
<figcaption>
User activation API before and after user has interacted with the page.
</figcaption>
</figure>
<p>Chrome 72 introduces User Activation v2, which simplifies user activation for all gated APIs. It’s based on a new <a href="https://html.spec.whatwg.org/multipage/interaction.html#activation">specification</a> that aims to standardize how activation works across all browsers.</p>
<p>There’s a new <code>userActivation</code> property on both <code>navigator</code> and <code>MessageEvent</code>, that has two properties: <code>hasBeenActive</code> and <code>isActive</code>:</p>
<ul>
<li><code>hasBeenActive</code> indicates if the associated window has ever seen a user activation in its lifecycle.</li>
<li><code>isActive</code> indicates if the associated window currently has a user activation in its lifecycle.</li>
</ul>
<p>More details are in <a href="https://developers.google.com/web/updates/2019/01/user-activation">Making user activation consistent across APIs</a></p>
<h2 id="localizing-lists-of-things-with-intl.format-intl-format">Localizing lists of things with <code>Intl.format</code> {: #intl-format }</h2>
<p>I love the <code>Intl</code> APIs, they’re super helpful for localizing content into other languages! In Chrome 72, there’s a new <code>.format()</code> method that makes rendering lists easier. Like other <code>Intl</code> APIs, it shifts the burden to the JavaScript engine, without sacrificing performance.</p>
<p>Initialize it with the locale you want, then call <code>format</code>, and it’ll use the correct words and syntax. It can do conjunctions - which adds the localized equivalent of <em>and</em> (and look at those beautiful oxford commas). It can do disjunctions - adding the local equivalent of <em>or</em>. And by providing some additional options, you can do even more.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> opts <span class="op">=</span> <span class="op">{</span><span class="dt">type</span><span class="op">:</span> <span class="st">&#39;disjunction&#39;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">const</span> lf <span class="op">=</span> <span class="kw">new</span> <span class="va">Intl</span>.<span class="at">ListFormat</span>(<span class="st">&#39;fr&#39;</span><span class="op">,</span> opts)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="va">lf</span>.<span class="at">format</span>([<span class="st">&#39;chien&#39;</span><span class="op">,</span> <span class="st">&#39;chat&#39;</span><span class="op">,</span> <span class="st">&#39;oiseau&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">// → &#39;chien, chat ou oiseau&#39;</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="va">lf</span>.<span class="at">format</span>([<span class="st">&#39;chien&#39;</span><span class="op">,</span> <span class="st">&#39;chat&#39;</span><span class="op">,</span> <span class="st">&#39;oiseau&#39;</span><span class="op">,</span> <span class="st">&#39;lapin&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">// → &#39;chien, chat, oiseau ou lapin&#39;</span></a></code></pre></div>
<p>Check out the <a href="https://developers.google.com/web/updates/2018/12/intl-listformat">Intl.ListFormat API</a> post for more details!</p>
<h2 id="and-more-more">And more! {: #more }</h2>
<p>These are just a few of the changes in Chrome 72 for developers, of course, there’s plenty more.</p>
<ul>
<li>Chrome 72 changes the behavior of <code>Cache.addAll()</code> to better match the spec. Previously, if there were duplicate entries in the same call, later requests would simply overwrite the first. To match the spec, <a href="https://developers.google.com/web/updates/2018/10/tweaks-to-addAll-importScripts#deprecating_repeated_urls_passed_to_cacheaddall">if there are duplicate entries, it will reject with an <code>InvalidStateError</code></a>.</li>
<li>Requests for favicons are now handled by the service worker, as long as the request URL is on the same origin as the service worker.</li>
</ul>
<h3 id="subscribe">Subscribe</h3>
<p>Want to stay up to date with our videos, then <a href="https://goo.gl/6FP1a5">subscribe</a> to our <a href="https://www.youtube.com/user/ChromeDevelopers/">Chrome Developers YouTube channel</a>, and you’ll get an email notification whenever we launch a new video.</p>
<p>I’m Pete LePage, and as soon as Chrome 73 is released, I’ll be right here to tell you – what’s new in Chrome!</p>
</body>
</html>
