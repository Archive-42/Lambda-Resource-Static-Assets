<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README.ms</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="membina-permainan-angkasa-bahagian-5-pemarkahan-dan-kehidupan">Membina Permainan Angkasa Bahagian 5: Pemarkahan dan Kehidupan</h1>
<h2 id="kuiz-pra-kuliah">Kuiz Pra Kuliah</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/37">Kuiz Pra Kuliah</a></p>
<p>Dalam pelajaran ini, anda akan belajar bagaimana menambahkan skor pada permainan dan mengira kehidupan.</p>
<h2 id="lukis-teks-di-skrin">Lukis teks di skrin</h2>
<p>Untuk dapat memaparkan skor permainan di layar, Anda harus tahu cara meletakkan teks di layar. Jawapannya adalah menggunakan kaedah <code>fillText()</code> pada objek kanvas. Anda juga dapat mengawal aspek lain seperti fon apa yang hendak digunakan, warna teks dan juga penjajarannya (kiri, kanan, tengah). Di bawah ini terdapat beberapa kod yang melukis beberapa teks di skrin.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">ctx</span>.<span class="at">font</span> <span class="op">=</span> <span class="st">&quot;30px Arial&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> <span class="st">&quot;red&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="va">ctx</span>.<span class="at">textAlign</span> <span class="op">=</span> <span class="st">&quot;right&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="va">ctx</span>.<span class="at">fillText</span>(<span class="st">&quot;show this on the screen&quot;</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></a></code></pre></div>
<p>âœ… Baca lebih lanjut mengenai <a href="https://developer.mozilla.org/docs/Web/API/Canvas_API/Tutorial/Drawing_text">cara menambahkan teks ke kanvas</a>, dan jangan ragu untuk menjadikan teks anda kelihatan lebih menarik!</p>
<h2 id="hidup-sebagai-konsep-permainan">Hidup, sebagai konsep permainan</h2>
<p>Konsep mempunyai kehidupan dalam permainan hanya bilangan. Dalam konteks permainan ruang angkasa adalah biasa untuk menetapkan satu set nyawa yang dipotong satu demi satu ketika kapal anda mengalami kerosakan. Senang jika anda dapat menunjukkan gambaran grafik seperti miniships atau hati dan bukannya angka.</p>
<h2 id="apakah-yang-anda-perlu-bina">Apakah yang anda perlu bina</h2>
<p>Mari tambahkan yang berikut ke permainan anda:</p>
<ul>
<li><strong>Skor permainan</strong>: Untuk setiap kapal musuh yang musnah, pahlawan harus diberikan beberapa mata, kami mencadangkan 100 mata setiap kapal. Skor permainan harus ditunjukkan di kiri bawah.</li>
<li><strong>Kehidupan</strong>: Kapal anda mempunyai tiga nyawa. Anda kehilangan nyawa setiap kali kapal musuh bertembung dengan anda. Skor hidup mesti dipaparkan di kanan bawah dan dibuat berdasarkan grafik berikut! <a href="../solution/assets/life.png">Gambar hidup</a>.</li>
</ul>
<h2 id="langkah-yang-disyorkan">Langkah yang disyorkan</h2>
<p>Cari fail yang telah dibuat untuk anda dalam sub folder <code>your-work</code>. Ia harus mengandungi yang berikut:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">-</span><span class="kw">|</span> <span class="ex">assets</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">enemyShip.png</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">player.png</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="ex">-</span><span class="kw">|</span> <span class="ex">laserRed.png</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="ex">-</span><span class="kw">|</span> <span class="ex">index.html</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="ex">-</span><span class="kw">|</span> <span class="ex">app.js</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="ex">-</span><span class="kw">|</span> <span class="ex">package.json</span></a></code></pre></div>
<p>Anda memulakan projek anda folder <code>your_work</code> dengan mengetik:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="bu">cd</span> your-work</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="ex">npm</span> start</a></code></pre></div>
<p>Perkara di atas akan memulakan Pelayan HTTP pada alamat <code>http://localhost:5000</code>. Buka penyemak imbas dan masukkan alamatnya, sekarang ia akan menjadikan pahlawan dan semua musuh, dan ketika anda menekan anak panah kiri dan kanan, pahlawan bergerak dan dapat menembak musuh.</p>
<h3 id="tambahkan-kod">Tambahkan Kod</h3>
<ol type="1">
<li><p><strong>Salin atas aset yang diperlukan</strong> dari folder <code>solution/aset/</code> ke folder <code>your-work</code>; anda akan menambah aset <code>life.png</code>. Tambahkan lifeImg ke fungsi window.onload:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1">lifeImg <span class="op">=</span> <span class="cf">await</span> <span class="at">loadTexture</span>(<span class="st">&quot;assets/life.png&quot;</span>)<span class="op">;</span></a></code></pre></div></li>
<li><p>Tambahkan <code>lifeImg</code> ke senarai aset:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">let</span> heroImg<span class="op">,</span></a>
<a class="sourceLine" id="cb5-2" title="2">...</a>
<a class="sourceLine" id="cb5-3" title="3">lifeImg<span class="op">,</span></a>
<a class="sourceLine" id="cb5-4" title="4">...</a>
<a class="sourceLine" id="cb5-5" title="5">eventEmitter <span class="op">=</span> <span class="kw">new</span> <span class="at">EventEmitter</span>()<span class="op">;</span></a></code></pre></div></li>
<li><p><strong>Tambah pemboleh ubah</strong>. Tambahkan kod yang mewakili jumlah skor anda (0) dan tinggal (3), paparkan skor ini di skrin.</p></li>
<li><p><strong>Panjangkan fungsi <code>updateGameObjects ()</code></strong>. Panjangkan fungsi <code>updateGameObjects ()</code> untuk menangani perlanggaran musuh:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="va">enemies</span>.<span class="at">forEach</span>(enemy <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="kw">const</span> heroRect <span class="op">=</span> <span class="va">hero</span>.<span class="at">rectFromGameObject</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="cf">if</span> (<span class="at">intersectRect</span>(heroRect<span class="op">,</span> <span class="va">enemy</span>.<span class="at">rectFromGameObject</span>())) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-4" title="4">      <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">COLLISION_ENEMY_HERO</span><span class="op">,</span> <span class="op">{</span> enemy <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="op">}</span>)</a></code></pre></div></li>
<li><strong>Tambahkan <code>life</code> dan<code>point</code></strong>.
<ol type="1">
<li><p><strong>Memulakan pemboleh ubah</strong>. Di bawah <code>this.cooldown = 0</code> di kelas <code>Hero</code>, tetapkan hidup dan mata:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">this</span>.<span class="at">life</span> <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">this</span>.<span class="at">points</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a></code></pre></div></li>
<li><p><strong>Lukis pemboleh ubah pada skrin</strong>. Lukiskan nilai-nilai ini ke skrin:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">function</span> <span class="at">drawLife</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="co">// </span><span class="al">TODO</span><span class="co">, 35, 27</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="kw">const</span> START_POS <span class="op">=</span> <span class="va">canvas</span>.<span class="at">width</span> <span class="op">-</span> <span class="dv">180</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="cf">for</span>(<span class="kw">let</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">hero</span>.<span class="at">life</span><span class="op">;</span> i<span class="op">++</span> ) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="va">ctx</span>.<span class="at">drawImage</span>(</a>
<a class="sourceLine" id="cb8-6" title="6">      lifeImg<span class="op">,</span> </a>
<a class="sourceLine" id="cb8-7" title="7">      START_POS <span class="op">+</span> (<span class="dv">45</span> <span class="op">*</span> (i<span class="op">+</span><span class="dv">1</span>) )<span class="op">,</span> </a>
<a class="sourceLine" id="cb8-8" title="8">      <span class="va">canvas</span>.<span class="at">height</span> <span class="op">-</span> <span class="dv">37</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-9" title="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb8-11" title="11"></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="kw">function</span> <span class="at">drawPoints</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb8-13" title="13">  <span class="va">ctx</span>.<span class="at">font</span> <span class="op">=</span> <span class="st">&quot;30px Arial&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-14" title="14">  <span class="va">ctx</span>.<span class="at">fillStyle</span> <span class="op">=</span> <span class="st">&quot;red&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-15" title="15">  <span class="va">ctx</span>.<span class="at">textAlign</span> <span class="op">=</span> <span class="st">&quot;left&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-16" title="16">  <span class="at">drawText</span>(<span class="st">&quot;Points: &quot;</span> <span class="op">+</span> <span class="va">hero</span>.<span class="at">points</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="va">canvas</span>.<span class="at">height</span><span class="dv">-20</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-17" title="17"><span class="op">}</span></a>
<a class="sourceLine" id="cb8-18" title="18"></a>
<a class="sourceLine" id="cb8-19" title="19"><span class="kw">function</span> <span class="at">drawText</span>(message<span class="op">,</span> x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-20" title="20">  <span class="va">ctx</span>.<span class="at">fillText</span>(message<span class="op">,</span> x<span class="op">,</span> y)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-21" title="21"><span class="op">}</span></a></code></pre></div>
<ol type="1">
<li><p>** Tambahkan kaedah ke gelung Permainan **. Pastikan anda menambahkan fungsi ini ke fungsi window.onload anda di bawah <code>updateGameObjects()</code>:</p>
<pre><code>```javascript
drawPoints();
drawLife();
``` </code></pre></li>
</ol></li>
</ol></li>
<li><p><strong>Melaksanakan peraturan permainan</strong>. Laksanakan peraturan permainan berikut:</p>
<ol type="1">
<li><strong>Untuk setiap pertembungan pahlawan dan musuh</strong>, tolaklah nyawa.</li>
</ol>
<p>Lanjutkan kelas <code>Hero</code> untuk melakukan pemotongan ini:</p>
<pre><code> ```javascript
 decrementLife() {
   this.life--;
   if (this.life === 0) {
     this.dead = true;
   }
 }
 ```</code></pre>
<ol start="2" type="1">
<li><strong>Untuk setiap laser yang menyerang musu</strong>, tingkatkan skor permainan dengan 100 mata.</li>
</ol>
<p>Panjangkan kelas Wira untuk melakukan kenaikan ini:</p>
<pre><code> ```javascript
  incrementPoints() {
     this.points += 100;
   }
 ```

 Tambahkan fungsi ini ke Collision Event Emitter anda:

 ```javascript
 eventEmitter.on(Messages.COLLISION_ENEMY_LASER, (_, { first, second }) =&gt; {
    first.dead = true;
    second.dead = true;
    hero.incrementPoints();
 })

 eventEmitter.on(Messages.COLLISION_ENEMY_HERO, (_, { enemy }) =&gt; {
    enemy.dead = true;
    hero.decrementLife();
 });
 ```</code></pre></li>
</ol>
<p>âœ… Lakukan sedikit penyelidikan untuk mengetahui permainan lain yang dibuat menggunakan JavaScript/Canvas. Apakah sifat umum mereka?</p>
<p>Menjelang akhir kerja ini, anda akan melihat kapal-kapal kecil â€˜kehidupanâ€™ di kanan bawah, titik di kiri bawah, dan anda akan melihat pengurangan jumlah hayat anda semasa anda bertembung dengan musuh dan kenaikan mata anda ketika anda menembak musuh. Bagus! Permainan anda hampir selesai.</p>
<hr />
<h2 id="cabaran">ðŸš€ Cabaran</h2>
<p>Kod anda hampir lengkap. Bolehkah anda membayangkan langkah seterusnya?</p>
<h2 id="kuiz-pasca-kuliah">Kuiz Pasca Kuliah</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/38">Kuiz Pasca Kuliah</a></p>
<h2 id="mengkaji-belajar-sendiri">Mengkaji &amp; Belajar Sendiri</h2>
<p>Teliti beberapa cara yang boleh anda tambah dan mengurangkan skor dan kehidupan permainan. Terdapat beberapa enjin permainan yang menarik seperti <a href="https://playfab.com">PlayFab</a>. Bagaimana penggunaan salah satu daripadanya dapat meningkatkan permainan anda?</p>
<h2 id="tugasan">Tugasan</h2>
<p><a href="assignment.ms.md">Bina Permainan Pemarkahan</a></p>
</body>
</html>
