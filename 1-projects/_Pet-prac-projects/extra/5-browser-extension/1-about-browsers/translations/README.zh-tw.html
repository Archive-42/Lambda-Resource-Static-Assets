<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README.zh-tw</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="瀏覽器擴充功能專案-part-1關於瀏覽器">瀏覽器擴充功能專案 Part 1：關於瀏覽器</h1>
<p><img src="/sketchnotes/browser.jpg" alt="瀏覽器繪圖筆記" /> &gt; 由 <a href="https://dev.to/wassimchegham/ever-wondered-what-happens-when-you-type-in-a-url-in-an-address-bar-in-a-browser-3dob">Wassim Chegham</a> 繪製</p>
<h2 id="課前測驗">課前測驗</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/23?loc=zh_tw">課前測驗</a></p>
<h3 id="大綱">大綱</h3>
<p>瀏覽器擴充功能新增額外的功能給瀏覽器。在你建立之前，你應該學習瀏覽器是如何運作的。</p>
<h3 id="關於瀏覽器">關於瀏覽器</h3>
<p>在這一系列的課程中，你會學習如何建立瀏覽器擴充功能，運作在 Chrome、Firefox 與 Edge 瀏覽器上。在這一章中，你會探索瀏覽器是如何運作，建立瀏覽器擴充功能的內容。</p>
<p>但到底何謂瀏覽器？它是幫助用戶顯示伺服器內容到網頁上的程式軟體。</p>
<p>✅ 小歷史：第一個網頁瀏覽器為 ‘WorldWideWeb’，由 Timothy Berners-Lee 爵士於 1990 年建立。</p>
<p><img src="../images/earlybrowsers.jpg" alt="早期的瀏覽器" /> &gt; 這邊有一些早期的瀏覽器，請參考<a href="https://www.slideshare.net/KMcGrane/week-4-ixd-history-personal-computing">Karen McGrane</a></p>
<p>用戶使用網址 URL (Uniform Resource Locator) 位置連上網路，通常以 <code>http</code> 或 <code>https</code> 位置開頭使用超文本傳輸協定(Hypertext Transfer Protocol)，瀏覽器便能與該伺服器溝通並抓取網頁的資料。</p>
<p>這時，瀏覽器轉譯引擎會呈現到用戶的裝置上，可以是手機、桌機或是筆記型電腦。</p>
<p>瀏覽器也有能力暫存內容，不需要每一次都向伺服器請求內容。瀏覽器儲存用戶的瀏覽紀錄、儲存 ‘cookies’，一種包含用戶活動資訊的小型資料。</p>
<p>請記得一件重要的事，各家瀏覽器並不會相同！每一種瀏覽器都有各自的長處短處，專業的網頁開發人員必須了解如何讓網頁在不同瀏覽器上運作正常。這包含處理手機的小視窗，處理離線用戶的行為。</p>
<p>這邊有一個值得加到你書籤的實用網頁：<a href="https://www.caniuse.com">caniuse.com</a>。當你在建構網頁時，你可以查詢 caniuse 技術支援清單，確保你能提供用戶最佳的使用體驗。</p>
<p>✅ 你知道你的網頁用戶最常使用什麼瀏覽器嗎？檢查你的分析程式，你可以安裝各種分析程式當作是你開發的一種環節，它們會告訴你那些瀏覽器最常被使用。</p>
<h2 id="瀏覽器擴充功能">瀏覽器擴充功能</h2>
<p>為什麼你需要建立瀏覽器擴充功能？它能附加在瀏覽器上，讓你快速地重複執行部分功能。舉例來說，如果你需要在網頁中檢查你所互動的顏色，你或許需要顏色選擇器擴充功能；如果你有記憶帳號密碼的困擾，你可能需要密碼管理擴充功能。</p>
<p>瀏覽器擴充功能在開發上也很有趣。它們有效地管理並執行少部分任務課題。</p>
<p>✅ 你最喜歡哪一項瀏覽器擴充功能？它們提供了什麼功能？</p>
<h3 id="安裝擴充功能">安裝擴充功能</h3>
<p>在你建立擴充功能以前，先看看建制與安裝瀏覽器擴充功能的流程。每一種瀏覽器在管理套件上可能有些不同，Edge上的管理過程就與 Chrome 與 Firefox 相似：</p>
<figure>
<img src="../images/install-on-edge.png" alt="Edge 瀏覽器開啟 edge://extensions 中的設定選單截圖" /><figcaption>Edge 瀏覽器開啟 edge://extensions 中的設定選單截圖</figcaption>
</figure>
<p>大體而言，過程為：</p>
<ul>
<li>指令 <code>npm run build</code> 建制你的管理套件</li>
<li>在瀏覽器中的延伸模組區點擊右上方的「更多設定」按鈕</li>
<li>如果這是新的套件，選擇 <code>load unpacked</code> 從資料夾上傳新的擴充套件(在我們的例子中， <code>/dist</code> )</li>
<li>如果這是已安裝的套件，點擊 <code>reload</code> 按鈕</li>
</ul>
<p>✅ 上述教學步驟讓你導入自己建立的擴充功能；若要安裝已公開的套件，你可以前往瀏覽器擴充功能商店，逛逛這些<a href="https://microsoftedge.microsoft.com/addons/Microsoft-Edge-Extensions-Home">商店</a>並安裝你選擇的套件。</p>
<h3 id="展開行動">展開行動</h3>
<p>你打算寫一套擴充功能來顯示你國家的碳足跡，顯示國家的能源使用量與可用能源量。套件內會有 API Key 來存取網頁 CO2 Signal 的 API。</p>
<p><strong>你需要：</strong></p>
<ul>
<li><a href="https://www.co2signal.com/">一組 API key</a>：在網頁上輸入你的電子信箱，它會寄一組鑰匙給你</li>
<li>給<a href="https://www.electricitymap.org/map">Electricity Map</a>使用的<a href="http://api.electricitymap.org/v3/zones">國家區域代碼</a> (舉個例子，在波士頓使用’US-NEISO’)</li>
<li><a href="../../start">程式碼</a>，下載 <code>start</code> 資料夾，你需要修改裡面的程式碼檔案。</li>
<li><a href="https://www.npmjs.com">NPM</a>，NPM 是一套軟體包管理工具，在本地安裝的軟體包會被列在 <code>package.json</code> 檔案中，成為網頁利用的資源。</li>
</ul>
<p>✅ 從<a href="https://docs.microsoft.com/en-us/learn/modules/create-nodejs-project-dependencies/?WT.mc_id=academic-13441-cxa">這個優質的學習套件</a>中，學習更多關於軟體包管理。</p>
<p>花點時間看一下程式檔案結構</p>
<p>dist -|manifest.json (defaults set) -|index.html (前端 HTML) -|background.js (background JS) -|main.js (built JS) src -|index.js (你的 JS 程式碼)</p>
<p>✅ 當你取得你的 API Key 與國家區域代碼後，紀錄在筆記中給之後的課程使用。</p>
<h3 id="建立給擴充功能使用的-html">建立給擴充功能使用的 HTML</h3>
<p>這套擴充功能有兩個重點。一個是取得 API Key 與國家區域代碼：</p>
<figure>
<img src="../images/1.png" alt="在瀏覽器擴充功能中，顯示 API key與國家區域代碼的輸入欄截圖" /><figcaption>在瀏覽器擴充功能中，顯示 API key與國家區域代碼的輸入欄截圖</figcaption>
</figure>
<p>與顯示國家的碳排放量：</p>
<figure>
<img src="../images/2.png" alt="在瀏覽器擴充功能中，顯示 US-NEISO 地區碳排放量與石化燃料比例截圖" /><figcaption>在瀏覽器擴充功能中，顯示 US-NEISO 地區碳排放量與石化燃料比例截圖</figcaption>
</figure>
<p>讓我們開始建立輸入欄位的 HTML 與它的 CSS 吧。</p>
<p>在資料夾 <code>/dist</code> 中，建立輸入表單與結果顯示區域。在檔案 <code>index.html</code> 中，規劃表單區域：</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">&lt;form</span><span class="ot"> class=</span><span class="st">&quot;form-data&quot;</span><span class="ot"> autocomplete=</span><span class="st">&quot;on&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="kw">&lt;div&gt;</span></a>
<a class="sourceLine" id="cb1-3" title="3">        <span class="kw">&lt;h2&gt;</span>New? Add your Information<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">&lt;div&gt;</span></a>
<a class="sourceLine" id="cb1-6" title="6">        <span class="kw">&lt;label</span><span class="ot"> for=</span><span class="st">&quot;region&quot;</span><span class="kw">&gt;</span>Region Name<span class="kw">&lt;/label&gt;</span></a>
<a class="sourceLine" id="cb1-7" title="7">        <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;text&quot;</span><span class="ot"> id=</span><span class="st">&quot;region&quot;</span><span class="ot"> required class=</span><span class="st">&quot;region-name&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="kw">&lt;div&gt;</span></a>
<a class="sourceLine" id="cb1-10" title="10">        <span class="kw">&lt;label</span><span class="ot"> for=</span><span class="st">&quot;api&quot;</span><span class="kw">&gt;</span>Your API Key from tmrow<span class="kw">&lt;/label&gt;</span></a>
<a class="sourceLine" id="cb1-11" title="11">        <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;text&quot;</span><span class="ot"> id=</span><span class="st">&quot;api&quot;</span><span class="ot"> required class=</span><span class="st">&quot;api-key&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="kw">&lt;button</span><span class="ot"> class=</span><span class="st">&quot;search-btn&quot;</span><span class="kw">&gt;</span>Submit<span class="kw">&lt;/button&gt;</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="kw">&lt;/form&gt;</span> </a></code></pre></div>
<p>這個表單儲存你的輸入資訊並儲存到 Local Storage 中。</p>
<p>接下來，建立結果輸出區。在 form tag 後面新增一些 divs：</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;result&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;loading&quot;</span><span class="kw">&gt;</span>loading...<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;errors&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;data&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;result-container&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-6" title="6">        <span class="kw">&lt;p&gt;&lt;strong&gt;</span>Region: <span class="kw">&lt;/strong&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;my-region&quot;</span><span class="kw">&gt;&lt;/span&gt;&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb2-7" title="7">        <span class="kw">&lt;p&gt;&lt;strong&gt;</span>Carbon Usage: <span class="kw">&lt;/strong&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;carbon-usage&quot;</span><span class="kw">&gt;&lt;/span&gt;&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb2-8" title="8">        <span class="kw">&lt;p&gt;&lt;strong&gt;</span>Fossil Fuel Percentage: <span class="kw">&lt;/strong&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;fossil-fuel&quot;</span><span class="kw">&gt;&lt;/span&gt;&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb2-9" title="9">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb2-10" title="10">    <span class="kw">&lt;button</span><span class="ot"> class=</span><span class="st">&quot;clear-btn&quot;</span><span class="kw">&gt;</span>Change region<span class="kw">&lt;/button&gt;</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="kw">&lt;/div&gt;</span></a></code></pre></div>
<p>這時，你可以試著建制這個專案。請確保安裝擴充套建的軟體依賴套件，輸入：</p>
<pre><code>npm install</code></pre>
<p>這項指令會使用 NPM (Node Package Manager)安裝 webpack 給你的擴充套件建制過程中使用。Webpack 是一個處理程式編譯的工具組合包。你可以在 <code>/dist/main.js</code> 看到它的執行後的結果 ── 程式碼已經被打好包了。</p>
<p>到目前為止，擴充套件已經被建制，如果你導入此套件到 Edge 中也能完整地呈現出來。</p>
<p>恭喜你，你已經達成建立擴充套件的第一步驟。在接下來的課程中，你會新增更多功能，讓它更加的實用。</p>
<hr />
<h2 id="挑戰">🚀 挑戰</h2>
<p>逛逛瀏覽器擴充商店，安裝一套擴充功能到你的瀏覽器中。你可以查看它的檔案群。你發現了什麼？</p>
<h2 id="課後測驗">課後測驗</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/24?loc=zh_tw">課後測驗</a></p>
<h2 id="複習與自學">複習與自學</h2>
<p>這堂課中你學到了一些瀏覽器的歷史。趁這個機會閱讀更多它的歷史，學習網際網路的發明者是如何構思網路的應用。這邊有一些實用的網頁：</p>
<p><a href="https://www.mozilla.org/en-US/firefox/browsers/browser-history/">瀏覽器的歷史</a></p>
<p><a href="https://webfoundation.org/about/vision/history-of-the-web/">網路的歷史</a></p>
<p><a href="https://www.theguardian.com/technology/2019/mar/12/tim-berners-lee-on-30-years-of-the-web-if-we-dream-a-little-we-can-get-the-web-we-want">與 Tim Berners-Lee 的訪談</a></p>
<h2 id="作業">作業</h2>
<p><a href="assignment.zh-tw.md">重新造型你的套件</a></p>
</body>
</html>
