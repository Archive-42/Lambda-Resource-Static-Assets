<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README.hi</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="एक-अंतरिक्ष-खेल-बनाएँ-भाग-1-परिचय">एक अंतरिक्ष खेल बनाएँ भाग 1: परिचय</h1>
<figure>
<img src="../../images/pewpew.gif" alt="वीडियो" /><figcaption>वीडियो</figcaption>
</figure>
<h2 id="लेक्चर-से-पहलेकी-क्विज">लेक्चर से पहलेकी क्विज</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/29?loc=hi">लेक्चर से पहलेकी क्विज</a></p>
<h3 id="खेल-के-विकास-में-इन्हेरिटेंस-और-कम्पोजीशन">खेल के विकास में इन्हेरिटेंस और कम्पोजीशन</h3>
<p>पहले के पाठों में, आपके द्वारा बनाए गए ऐप्स के डिज़ाइन आर्किटेक्चर के बारे में ज्यादा चिंता करने की ज़रूरत नहीं थी, क्योंकि प्रोजेक्ट बहुत कम दायरे में थे. हालाँकि, जब आपके अनुप्रयोग आकार और दायरे में बढ़ते हैं, तो वास्तु निर्णय एक बड़ी चिंता बन जाते हैं. जावास्क्रिप्ट में बड़ा अनुप्रयोग बनाने के लिए दो प्रमुख दृष्टिकोण हैं: <em>composition</em> या <em>inheritance</em>. दोनों के पक्ष और विपक्ष हैं लेकिन किसी खेल के संदर्भ में उन्हें समझते हैं .</p>
<p>✅ अब तक लिखी गई सबसे प्रसिद्ध प्रोग्रामिंग किताबों में से एक है <a href="https://en.wikipedia.org/wiki/Design_Patterns">डिजाइन पैटर्न</a></p>
<p>एक गेम में आपके पास <code>game objects</code> हैं जो एक स्क्रीन पर मौजूद ऑब्जेक्ट हैं. इसका मतलब है कि उनके पास एक कार्टेशियन समन्वय प्रणाली पर एक स्थान है, जिसमें एक <code>x</code> और<code>y</code> समन्वय है. जैसा कि आप एक गेम विकसित करते हैं, आप देखेंगे कि आपके सभी गेम ऑब्जेक्ट में एक मानक गुण है, जो आपके द्वारा बनाए जाने वाले प्रत्येक गेम के लिए सामान्य है, अर्थात् तत्व हैं:</p>
<ul>
<li><strong>location-based</strong> अधिकांश, यदि सभी नहीं हैं, तो खेल तत्व स्थान आधारित हैं. इसका मतलब है कि उनके पास एक स्थान है, एक <code>x</code> और<code>y</code>.</li>
<li><strong>movable</strong> ये ऐसी वस्तुएं हैं जो एक नए स्थान पर जा सकती हैं. यह आम तौर पर एक नायक, एक राक्षस या एक एनपीसी (एक गैर खिलाड़ी चरित्र) है, लेकिन उदाहरण के लिए, एक पेड़ जैसी स्थिर वस्तु नहीं.</li>
<li><strong>self-destructing</strong> ये ऑब्जेक्ट केवल समय की एक निर्धारित अवधि के लिए मौजूद होते हैं, इससे पहले कि वे स्वयं को हटाने के लिए सेट करें. आमतौर पर यह एक <code>मृत</code> या<code>नष्ट</code> बूलियन द्वारा दर्शाया जाता है जो गेम इंजन को संकेत देता है कि इस ऑब्जेक्ट को अब प्रस्तुत नहीं किया जाना चाहिए.</li>
<li><strong>cool-down</strong> ‘कूल-डाउन’ एक अल्पकालिक वस्तुओं में से एक विशिष्ट गुण है. एक विशिष्ट उदाहरण एक विस्फोट की तरह पाठ या चित्रमय प्रभाव का एक टुकड़ा है जिसे केवल कुछ मिलीसेकंड के लिए देखा जाना चाहिए.</li>
</ul>
<p>✅ पैक मैन जैसे खेल के बारे में सोचें. क्या आप इस खेल में ऊपर सूचीबद्ध चार ऑब्जेक्ट प्रकारों की पहचान कर सकते हैं?</p>
<h3 id="व्यवहार-व्यक्त-करना">व्यवहार व्यक्त करना</h3>
<p>हम ऊपर वर्णित सभी व्यवहार हैं जो गेम ऑब्जेक्ट्स हो सकते हैं . तो हम उन सबको को कैसे एनकोड करेंगे? हम इस व्यवहार को या तो क्लासेज या objects से संबंधित विधियों के रूप में व्यक्त कर सकते हैं.</p>
<p><strong>क्लासेज</strong></p>
<p>विचार एक क्लास के लिए एक निश्चित व्यवहार को जोड़ने के लिए <code>inheritence</code> के साथ संयोजन में <code>inheritence</code> का उपयोग करने के लिए है.</p>
<p>✅ समझने के लिए इन्हेरिटेंस एक महत्वपूर्ण अवधारणा है। <a href="https://developer.mozilla.org/docs/Web/JavaScript/Inheritance_and_the_prototyp_chain">एमडीएन के इन्हेरिटेंस के बारे में लेख</a> पर और जानें.</p>
<p>कोड के माध्यम से व्यक्त, एक गेम ऑब्जेक्ट आमतौर पर इस तरह दिख सकता है:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">//set up the class GameObject</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">class</span> GameObject <span class="op">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="at">constructor</span>(x<span class="op">,</span> y<span class="op">,</span> type) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="kw">this</span>.<span class="at">x</span> <span class="op">=</span> x<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">this</span>.<span class="at">y</span> <span class="op">=</span> y<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="kw">this</span>.<span class="at">type</span> <span class="op">=</span> type<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-9" title="9"></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">//this class will extend the GameObject&#39;s inherent class properties</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="kw">class</span> Movable <span class="kw">extends</span> GameObject <span class="op">{</span></a>
<a class="sourceLine" id="cb1-12" title="12">  <span class="at">constructor</span>(x<span class="op">,</span> y<span class="op">,</span> type) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="kw">super</span>(x<span class="op">,</span> y<span class="op">,</span> type)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16">  <span class="co">//this movable object can be moved on the screen</span></a>
<a class="sourceLine" id="cb1-17" title="17">  <span class="at">moveTo</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-18" title="18">    <span class="kw">this</span>.<span class="at">x</span> <span class="op">=</span> x<span class="op">;</span></a>
<a class="sourceLine" id="cb1-19" title="19">    <span class="kw">this</span>.<span class="at">y</span> <span class="op">=</span> y<span class="op">;</span></a>
<a class="sourceLine" id="cb1-20" title="20">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-22" title="22"></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="co">//this is a specific class that extends the Movable class, so it can take advantage of all the properties that it inherits</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="kw">class</span> Hero <span class="kw">extends</span> Movable <span class="op">{</span></a>
<a class="sourceLine" id="cb1-25" title="25">  <span class="at">constructor</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-26" title="26">    <span class="kw">super</span>(x<span class="op">,</span> y<span class="op">,</span> <span class="st">&quot;Hero&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-27" title="27">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-29" title="29"></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co">//this class, on the other hand, only inherits the GameObject properties</span></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="kw">class</span> Tree <span class="kw">extends</span> GameObject <span class="op">{</span></a>
<a class="sourceLine" id="cb1-32" title="32">  <span class="at">constructor</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-33" title="33">    <span class="kw">super</span>(x<span class="op">,</span> y<span class="op">,</span> <span class="st">&quot;Tree&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-34" title="34">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-36" title="36"></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="co">//a hero can move...</span></a>
<a class="sourceLine" id="cb1-38" title="38"><span class="kw">const</span> hero <span class="op">=</span> <span class="kw">new</span> <span class="at">Hero</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-39" title="39"><span class="va">hero</span>.<span class="at">moveTo</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-40" title="40"></a>
<a class="sourceLine" id="cb1-41" title="41"><span class="co">//but a tree cannot</span></a>
<a class="sourceLine" id="cb1-42" title="42"><span class="kw">const</span> tree <span class="op">=</span> <span class="kw">new</span> <span class="at">Tree</span>()<span class="op">;</span></a></code></pre></div>
<p>✅ एक पैक-मैन हीरो (इंकी, पिंकी या ब्लंकी, उदाहरण के लिए) को फिर से लागू करने के लिए कुछ मिनट लें और यह जावास्क्रिप्ट में कैसे लिखा जाएगा.</p>
<p><strong>कम्पोजीशन</strong></p>
<p>ऑब्जेक्ट इन्हेरिटेंस को संभालने का एक अलग तरीका <em>Composition</em> का उपयोग करते है. फिर, ऑब्जेक्ट अपने व्यवहार को इस तरह व्यक्त करते हैं:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="co">//create a constant gameObject</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">const</span> gameObject <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="dt">y</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;&#39;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">};</span></a>
<a class="sourceLine" id="cb2-7" title="7"></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">//...and a constant movable</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="kw">const</span> movable <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-10" title="10">  <span class="at">moveTo</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-11" title="11">    <span class="kw">this</span>.<span class="at">x</span> <span class="op">=</span> x<span class="op">;</span></a>
<a class="sourceLine" id="cb2-12" title="12">    <span class="kw">this</span>.<span class="at">y</span> <span class="op">=</span> y<span class="op">;</span></a>
<a class="sourceLine" id="cb2-13" title="13">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co">//then the constant movableObject is composed of the gameObject and movable constants</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="kw">const</span> movableObject <span class="op">=</span> <span class="op">{</span>...<span class="at">gameObject</span><span class="op">,</span> ...<span class="at">movable</span><span class="op">};</span></a>
<a class="sourceLine" id="cb2-17" title="17"></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="co">//then create a function to create a new Hero who inherits the movableObject properties</span></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="kw">function</span> <span class="at">createHero</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-20" title="20">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-21" title="21">    ...<span class="at">movableObject</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-22" title="22">    x<span class="op">,</span></a>
<a class="sourceLine" id="cb2-23" title="23">    y<span class="op">,</span></a>
<a class="sourceLine" id="cb2-24" title="24">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;Hero&#39;</span></a>
<a class="sourceLine" id="cb2-25" title="25">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-26" title="26"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-27" title="27"><span class="co">//...and a static object that inherits only the gameObject properties</span></a>
<a class="sourceLine" id="cb2-28" title="28"><span class="kw">function</span> <span class="at">createStatic</span>(x<span class="op">,</span> y<span class="op">,</span> type) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-29" title="29">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-30" title="30">    ...<span class="at">gameObject</span></a>
<a class="sourceLine" id="cb2-31" title="31">    x<span class="op">,</span></a>
<a class="sourceLine" id="cb2-32" title="32">    y<span class="op">,</span></a>
<a class="sourceLine" id="cb2-33" title="33">    type</a>
<a class="sourceLine" id="cb2-34" title="34">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-35" title="35"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-36" title="36"><span class="co">//create the hero and move it</span></a>
<a class="sourceLine" id="cb2-37" title="37"><span class="kw">const</span> hero <span class="op">=</span> <span class="at">createHero</span>(<span class="dv">10</span><span class="op">,</span><span class="dv">10</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-38" title="38"><span class="va">hero</span>.<span class="at">moveTo</span>(<span class="dv">5</span><span class="op">,</span><span class="dv">5</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-39" title="39"><span class="co">//and create a static tree which only stands around</span></a>
<a class="sourceLine" id="cb2-40" title="40"><span class="kw">const</span> tree <span class="op">=</span> <span class="at">createStatic</span>(<span class="dv">0</span><span class="op">,</span><span class="dv">0</span><span class="op">,</span> <span class="st">&#39;Tree&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>मुझे किस पैटर्न का उपयोग करना चाहिए?</strong></p>
<p>यह आपके ऊपर है कि आप किस पैटर्न को चुनते हैं । जावास्क्रिप्ट इन दोनों प्रतिमानों का समर्थन करता है.</p>
<p>–</p>
<p>खेल के विकास में एक और पैटर्न आम है जो गेम के उपयोगकर्ता अनुभव और प्रदर्शन को संभालने की समस्या को संबोधित करता है.</p>
<h2 id="pubsub-पैटर्न">Pub/sub पैटर्न</h2>
<p>✅ Pub/Sub अर्थ ‘publish-subscribe’ है</p>
<p>यह पैटर्न इस विचार को संबोधित करता है कि आपके आवेदन के असमान भागों को एक दूसरे के बारे में पता नहीं होना चाहिए. यह देखने के लिए बहुत आसान बनाता है कि सामान्य रूप से क्या हो रहा है अगर विभिन्न भागों को अलग किया जाता है. यह भी अगर आप की जरूरत है अचानक व्यवहार बदलने के लिए आसान बनाता है. हम इसे कैसे पूरा करेंगे? हम कुछ अवधारणाओं को स्थापित करके ऐसा करते हैं:</p>
<ul>
<li><strong>message</strong>: एक संदेश आमतौर पर एक टेक्स्ट स्ट्रिंग होता है जिसमें वैकल्पिक पेलोड (डेटा का एक टुकड़ा जो स्पष्ट करता है कि संदेश क्या है). एक खेल में एक विशिष्ट संदेश <code>KEY_PRESSED_ENTER</code> हो सकता है।</li>
<li><strong>publisher</strong>: यह तत्व एक संदेश _प्रकाशित_ करता है और इसे सभी ग्राहकों को भेजता है.</li>
<li><strong>subscriber</strong>: यह तत्व विशिष्ट संदेशों को _सूचीबद्ध_ करता है और इस संदेश को प्राप्त करने के परिणामस्वरूप कुछ कार्य करता है, जैसे कि लेजर फायरिंग.</li>
</ul>
<p>कार्यान्वयन आकार में काफी छोटा है लेकिन यह एक बहुत शक्तिशाली पैटर्न है। यहां बताया गया है कि इसे कैसे लागू किया जा सकता है:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">//set up an EventEmitter class that contains listeners</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">class</span> EventEmitter <span class="op">{</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="kw">this</span>.<span class="at">listeners</span> <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="co">//when a message is received, let the listener to handle its payload</span></a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="at">on</span>(message<span class="op">,</span> listener) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="cf">if</span> (<span class="op">!</span><span class="kw">this</span>.<span class="at">listeners</span>[message]) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-9" title="9">      <span class="kw">this</span>.<span class="at">listeners</span>[message] <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb3-11" title="11">    <span class="kw">this</span>.<span class="at">listeners</span>[message].<span class="at">push</span>(listener)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-13" title="13">  <span class="co">//when a message is sent, send it to a listener with some payload</span></a>
<a class="sourceLine" id="cb3-14" title="14">  <span class="at">emit</span>(message<span class="op">,</span> payload <span class="op">=</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-15" title="15">    <span class="cf">if</span> (<span class="kw">this</span>.<span class="at">listeners</span>[message]) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-16" title="16">      <span class="kw">this</span>.<span class="at">listeners</span>[message].<span class="at">forEach</span>((l) <span class="kw">=&gt;</span> <span class="at">l</span>(message<span class="op">,</span> payload))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-17" title="17">    <span class="op">}</span></a>
<a class="sourceLine" id="cb3-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="op">}</span></a></code></pre></div>
<p>उपरोक्त कोड का उपयोग करने के लिए हम एक बहुत छोटा कार्यान्वयन बना सकते हैं:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">//set up a message structure</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">const</span> Messages <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="dt">HERO_MOVE_LEFT</span><span class="op">:</span> <span class="st">&quot;HERO_MOVE_LEFT&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="op">};</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">//invoke the eventEmitter you set up above</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="kw">const</span> eventEmitter <span class="op">=</span> <span class="kw">new</span> <span class="at">EventEmitter</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">//set up a hero</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="kw">const</span> hero <span class="op">=</span> <span class="at">createHero</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">//let the eventEmitter know to watch for messages pertaining to the hero moving left, and act on it</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">HERO_MOVE_LEFT</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-11" title="11">  <span class="va">hero</span>.<span class="at">move</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-13" title="13"></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="co">//set up the window to listen for the keyup event, specifically if the left arrow is hit, emit a message to move the hero left</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;keyup&quot;</span><span class="op">,</span> (evt) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-16" title="16">  <span class="cf">if</span> (<span class="va">evt</span>.<span class="at">key</span> <span class="op">===</span> <span class="st">&quot;ArrowLeft&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-17" title="17">    <span class="va">eventEmitter</span>.<span class="at">emit</span>(<span class="va">Messages</span>.<span class="at">HERO_MOVE_LEFT</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>ऊपर हम एक कीबोर्ड ईवेंट कनेक्ट करते हैं, <code>ArrowLeft</code> और <code>HERO_MOVE_LEFT</code> संदेश भेजें. हम उस संदेश को सुनते हैं और परिणामस्वरूप <code>hero</code> को स्थानांतरित करते हैं. इस पैटर्न के साथ ताकत यह है कि इवेंट लिस्टनेर और हीरो एक दूसरे के बारे में नहीं जानते हैं. आप <code>ArrowLeft</code> को <code>A</code> की के लिए रीमैप कर सकते हैं. इसके अतिरिक्त यह <code>ArrowLeft</code> पर पूरी तरह से अलग कुछ करने के लिए संभव हो जाएगा करने के लिए EventEmitter की <code>on</code> समारोह में कुछ संपादन:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="va">eventEmitter</span>.<span class="at">on</span>(<span class="va">Messages</span>.<span class="at">HERO_MOVE_LEFT</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="va">hero</span>.<span class="at">move</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>जब आपका गेम बढ़ता है तो चीजें अधिक जटिल हो जाती हैं, यह पैटर्न जटिलता में समान रहता है और आपका कोड साफ रहता है. यह वास्तव में इस पैटर्न को अपनाने की सिफारिश की गई है.</p>
<hr />
<h2 id="चुनौती">🚀 चुनौती</h2>
<p>इस बारे में सोचें कि pub-sub पैटर्न एक खेल को कैसे बढ़ा सकते हैं. किन हिस्सों को घटनाओं का उत्सर्जन करना चाहिए, और खेल को उन्हें कैसे प्रतिक्रिया देनी चाहिए? अब आपका मौका रचनात्मक बनने का है, एक नए खेल के बारे में सोचकर और उसके भागों का व्यवहार कैसे हो सकता है.</p>
<h2 id="लेक्चर-बाद-की-क्विज">लेक्चर बाद की क्विज</h2>
<p><a href="https://nice-beach-0fe9e9d0f.azurestaticapps.net/quiz/30?loc=hi">लेक्चर बाद की क्विज</a></p>
<h2 id="समीक्षा-और-स्व-अध्ययन">समीक्षा और स्व अध्ययन</h2>
<p>pub/sub<a href="https://docs.microsoft.com/azure/altecture/patterns/publisher-subscriber?WT.mc_id=academic-13441-cxa">के बारे में पढ़े</a> और अधिक जानें .</p>
<h2 id="असाइनमेंट">असाइनमेंट</h2>
<p><a href="assignment.hi.md">एक खेल का नका</a></p>
</body>
</html>
